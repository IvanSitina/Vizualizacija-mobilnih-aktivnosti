<!DOCTYPE html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>
<meta charset="utf-8">
<style>

body {
  font: 16px sans-serif;
  background-color: #f2f2f2;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.dot {
  stroke: #000;
}

.dot:hover{
  opacity: 0.5;
     
}

.d3-tip {
        line-height: 1;
        font-weight: bold;
        padding: 12px;
        background: rgba(0, 0, 0, 0.8);
        color: #fff;
        border-radius: 2px;
      }
strong {
  color: grey;
}

.legend {
  position: fixed;
  bottom: 10;
  right: 40;
}

</style>
<body>

<div class="container">                 
  <ul class="nav nav-pills">
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#">Siječanj<span class="caret"></span></a>
      <ul class="dropdown-menu">
        <li onclick="buttonclicks()"><a href="#">Detalji poziva</a></li> 
        <li onclick="buttonclick()"><a href="#">Broj poziva</a></li>  
        <li onclick="buttonclickt()"><a href="#">Ispis poziva</a></li>                     
      </ul>
    </li>
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#">Veljača<span class="caret"></span></a>
      <ul class="dropdown-menu">
        <li onclick="buttonclicks1()"><a href="#">Detalji poziva</a></li> 
        <li onclick="buttonclick1()"><a href="#">Broj poziva</a></li>    
        <li onclick="buttonclickt()"><a href="#">Ispis poziva</a></li>                     
      </ul>
    </li>
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#">Ožujak<span class="caret"></span></a>
      <ul class="dropdown-menu">
        <li onclick="buttonclicks2()"><a href="#">Detalji poziva</a></li> 
        <li onclick="buttonclick2()"><a href="#">Broj poziva</a></li>    
        <li onclick="buttonclickt()"><a href="#">Ispis poziva</a></li>        
      </ul>
    </li>
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#">Travanj<span class="caret"></span></a>
      <ul class="dropdown-menu">
        <li onclick="buttonclicks3()"><a href="#">Detalji poziva</a></li> 
        <li onclick="buttonclick3()"><a href="#">Broj poziva</a></li>   
        <li onclick="buttonclickt()"><a href="#">Ispis poziva</a></li>            
      </ul>
    </li>
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#">Svibanj<span class="caret"></span></a>
      <ul class="dropdown-menu">
        <li onclick="buttonclicks4()"><a href="#">Detalji poziva</a></li> 
        <li onclick="buttonclick4()"><a href="#">Broj poziva</a></li>  
        <li onclick="buttonclickt()"><a href="#">Ispis poziva</a></li>    
      </ul>
    </li>
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#">Lipanj<span class="caret"></span></a>
      <ul class="dropdown-menu">
        <li onclick="buttonclicks5()"><a href="#">Detalji poziva</a></li> 
        <li onclick="buttonclick5()"><a href="#">Broj poziva</a></li>   
        <li onclick="buttonclickt()"><a href="#">Ispis poziva</a></li>  
      </ul>
    </li>
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#">Srpanj<span class="caret"></span></a>
      <ul class="dropdown-menu">
        <li onclick="buttonclicks6()"><a href="#">Detalji poziva</a></li> 
        <li onclick="buttonclick6()"><a href="#">Broj poziva</a></li>   
        <li onclick="buttonclickt()"><a href="#">Ispis poziva</a></li>              
      </ul>
    </li>
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#">Kolovoz<span class="caret"></span></a>
      <ul class="dropdown-menu">
        <li onclick="buttonclicks7()"><a href="#">Detalji poziva</a></li> 
        <li onclick="buttonclick7()"><a href="#">Broj poziva</a></li>   
        <li onclick="buttonclickt()"><a href="#">Ispis poziva</a></li>          
      </ul>
    </li>
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#">Rujan<span class="caret"></span></a>
      <ul class="dropdown-menu">
        <li onclick="buttonclicks8()"><a href="#">Detalji poziva</a></li> 
        <li onclick="buttonclick8()"><a href="#">Broj poziva</a></li>   
        <li onclick="buttonclickt()"><a href="#">Ispis poziva</a></li>                
      </ul>
    </li>
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#">Listopad<span class="caret"></span></a>
      <ul class="dropdown-menu">
        <li onclick="buttonclicks9()"><a href="#">Detalji poziva</a></li> 
        <li onclick="buttonclick9()"><a href="#">Broj poziva</a></li>    
        <li onclick="buttonclickt()"><a href="#">Ispis poziva</a></li>              
      </ul>
    </li>
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#">Studeni<span class="caret"></span></a>
      <ul class="dropdown-menu">
        <li onclick="buttonclicks10()"><a href="#">Detalji poziva</a></li> 
        <li onclick="buttonclick10()"><a href="#">Broj poziva</a></li> 
        <li onclick="buttonclickt()"><a href="#">Ispis poziva</a></li>             
      </ul>
    </li>
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" href="#">Prosinac<span class="caret"></span></a>
      <ul class="dropdown-menu">
        <li onclick="buttonclicks11()"><a href="#">Detalji poziva</a></li> 
        <li onclick="buttonclick11()"><a href="#">Broj poziva</a></li>  
        <li onclick="buttonclickt()"><a href="#">Ispis poziva</a></li>           
      </ul>
    </li>
  </ul>
</div>
<script src="//d3js.org/d3.v3.min.js"></script>
<script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
<script>

var margin = {top: 50, right: 10, bottom: 20, left: 100},
    width = 1260 - margin.left - margin.right,
    height = 600 - margin.top - margin.bottom;

var x = d3.scale.linear()
    .range([0, width]);

var y = d3.scale.linear()
    .range([height, 0]);

var color = d3.scale.category10();


var xAxis = d3.svg.axis()
    .scale(x)
    .orient("bottom")
    .tickValues([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31]);;

var yAxis = d3.svg.axis()
    .scale(y)
    .orient("left")
    .tickValues([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24]);

var tip = d3.tip()
    .attr('class', 'd3-tip')
    .direction('e')
    .offset([0, 20])
    .html(function(d) {
      return '<table id="tiptable"><strong> Zapis  :   </strong>' + d.zapis + 
                            " <br> <strong> Pozivatelj :  </strong>" +d.pozivatelj+ 
                            " <br> <strong> Vrijeme :  </strong>" +d.vrijeme+ 
                            " <br> <strong> Trajanje :  </strong>" +d.trajanje+ "</table>";
  })


var svg = d3.select("body").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
  .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");


svg.call(tip);


d3.tsv("data.tsv", function(error, data) {
  if (error) throw error;

  data.forEach(function(d) {
    d.sepalLength = +d.sepalLength;
    d.sepalWidth = +d.sepalWidth;
  });

  x.domain(d3.extent(data, function(d) { return d.sepalWidth; })).nice();
  y.domain(d3.extent(data, function(d) { return d.sepalLength; })).nice();

  svg.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis)
    .append("text")
      .attr("class", "label")
      .attr("x", width)
      .attr("y", -6)
      .style("text-anchor", "end")
      .text("Dani");

  svg.append("g")
      .attr("class", "y axis")
      .call(yAxis)
    .append("text")
      .attr("class", "label")
      .attr("transform", "rotate(-90)")
      .attr("y", 6)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("Sati")

  svg.selectAll(".dot")
      .data(data)
    .enter().append("circle")
      .attr("class", "dot")
      .attr('r', 5)
      .attr("cx", function(d) { return x(d.sepalWidth); })
      .attr("cy", function(d) { return y(d.sepalLength); })
      .style("fill", function(d) { return color(d.zapis); })
      .on('mouseover', tip.show)
      .on('mouseout', tip.hide)
      .on("click", function() {
        d3.select(this)
        .transition()
        .duration(1000)
        .attr('r', function(d){ 
        var returnRadius;
        if (d.trajanje === "0 min 0 sec") {returnRadius = 5;}
        if (d.trajanje === "2 min 43 sec") {returnRadius = 10;}
        if (d.trajanje === "3 min 40 sec") {returnRadius = 15;}
        if (d.trajanje === "9 min 13 sec") {returnRadius = 25;}
        if (d.trajanje === "13 min 23 sec") {returnRadius = 35;}
        if (d.trajanje === "29 min 03 sec") {returnRadius = 50;}
        if (d.trajanje === "30 min 22 sec") {returnRadius = 55;}
        if (d.trajanje === "41 min 33 sec") {returnRadius = 70;}
        
        
        return returnRadius;
      });
        d3.select(this)
        .transition()
        .delay(2000)
        .duration(1000)
        .attr('r', 5);
      });

  var legend = svg.selectAll(".legend")
      .data(color.domain())
    .enter().append("g")
      .attr("class", "legend")
      .attr("transform", function(d, i) { return "translate(20," + i * 20 + ")"; });

  legend.append("rect")
      .attr("x", width - 18)
      .attr("width", 18)
      .attr("height", 18)
      .style("fill", color);

  legend.append("text")
      .attr("x", width - 24)
      .attr("y", 9)
      .attr("dy", ".35em")
      .style("text-anchor", "end")
      .text(function(d) { return d; });

});

function buttonclick(){
  window.location="barchart.html";
}
function buttonclicks(){
  window.location="scaterplot.html";
}
function buttonclick1(){
  window.location="barchart1.html";
}
function buttonclicks1(){
  window.location="scaterplot.html";
}
function buttonclick2(){
  window.location="barchart.html";
}
function buttonclicks2(){
  window.location="scaterplot.html";
}
function buttonclick3(){
  window.location="barchart1.html";
}
function buttonclicks3(){
  window.location="scaterplot.html";
}
function buttonclick4(){
  window.location="barchart.html";
}
function buttonclicks4(){
  window.location="scaterplot.html";
}
function buttonclick5(){
  window.location="barchart1.html";
}
function buttonclicks5(){
  window.location="scaterplot.html";
}
function buttonclick6(){
  window.location="barchart.html";
}
function buttonclicks6(){
  window.location="scaterplot.html";
}
function buttonclick7(){
  window.location="barchart1.html";
}
function buttonclicks7(){
  window.location="scaterplot.html";
}
function buttonclick8(){
  window.location="barchart.html";
}
function buttonclicks8(){
  window.location="scaterplot.html";
}
function buttonclick9(){
  window.location="barchart1.html";
}
function buttonclicks9(){
  window.location="scaterplot.html";
}
function buttonclick10(){
  window.location="barchart.html";
}
function buttonclicks10(){
  window.location="scaterplot.html";
}
function buttonclick11(){
  window.location="barchart1.html";
}
function buttonclicks11(){
  window.location="scaterplot.html";
}
//Table
function buttonclickt(){
  window.location="table.html";
}
function buttonclickt1(){
  window.location="table.html";
}
function buttonclickt2(){
  window.location="table.html";
}
function buttonclickt3(){
  window.location="table.html";
}
function buttonclickt4(){
  window.location="table.html";
}
function buttonclickt5(){
  window.location="table.html";
}
function buttonclickt6(){
  window.location="table.html";
}
function buttonclickt7(){
  window.location="table.html";
}
function buttonclickt8(){
  window.location="table.html";
}
function buttonclickt9(){
  window.location="table.html";
}
function buttonclickt10(){
  window.location="table.html";
}
function buttonclickt11(){
  window.location="table.html";
}



</script>
</body>